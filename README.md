# Entrelinhas-da-Violencia
Nesta seção é descrita a ferramenta desenvolvida, que usa técnicas de visualização interativas que permitem analisar e obter insights de dados abertos do governo relacionados à violência contra a mulher. Inicialmente, foi feita a coleta e pré-processamento dos dados. Depois, então, foram elaborados dashboards com as visualizações interativas.

Para a preparação dos dados foram utilizados o Tableau Prep Builder e a linguagem Python. O primeiro foi usado para processar e organizar em um único arquivo diversas etapas de processamento de dados, como a limpeza e união de linhas ou colunas de conjuntos de dados. A linguagem Python possui diversas bibliotecas, tais como Pandas e NumPy, que permitiram manipular os dados e aplicar métodos estatísticos. Para elaboração dos dashboards foi usado o Tableau Desktop, que permite gerar visualizações de maneira rápida e interativa, e organizá-las em dashboards. Além disso, todos os dashboards desenvolvidos podem ser compartilhados no Tableau Public. Inicialmente, foram coletados os dados do portal de dados abertos do Ministério dos Direitos Humanos e da Cidadania. O portal disponibiliza 16 arquivos .csv, organizados por ano ou semestre desde 2014, mas apenas 15 desses arquivos foram utilizados neste trabalho. O arquivo "Balanço 2019" foi excluído da análise, pois continha apenas um resumo do ano de 2019, já com sua tabela consolidada. Os dados contidos nos arquivos incluem informações como cidade, estado, horário da denúncia, identidade do denunciante, se a vítima estava em risco de vida, local da violência, além de dados demográficos como faixa etária, escolaridade, faixa de renda e profissão da vítima e do suspeito, entre outros. O pré-processamento desses dados foi dividido em cinco etapas, descritas a seguir. Alguns dos processamentos precisaram ser feitos através de scripts em Python, não sendo possível realizar diretamente pelo Tableau Prep Builder. Além disso, para análises relativas ao tamanho da população (por estado, município, raça, e grau de instrução), também foram utilizados os dados do Censo de 2022.
Inicialmente, foram coletados os dados do portal de dados abertos do Ministério dos Direitos Humanos e da Cidadania. O portal disponibiliza 16 arquivos .csv, organizados por ano ou semestre desde 2014, mas apenas 15 desses arquivos foram utilizados neste trabalho. O arquivo "Balanço 2019" foi excluído da análise, pois continha apenas um resumo do ano de 2019, já com sua tabela consolidada. Os dados contidos nos arquivos incluem informações como cidade, estado, horário da denúncia, identidade do denunciante, se a vítima estava em risco de vida, local da violência, além de dados demográficos como faixa etária, escolaridade, faixa de renda e profissão da vítima e do suspeito, entre outros. O pré-processamento desses dados foi dividido em cinco etapas, descritas a seguir. Alguns dos processamentos precisaram ser feitos através de scripts em Python, não sendo possível realizar diretamente pelo Tableau Prep Builder. Além disso, para análises relativas ao tamanho da população (por estado, município, raça, e grau de instrução), também foram utilizados os dados do Censo de 2022.

- 1° Etapa: filtragem por violência contra mulher e conversão dos arquivos para .xlsx. Os dados a partir de 2020 incluem denúncias não apenas sobre violência doméstica, mas também sobre crimes contra o meio ambiente ou contra idosos, por exemplo. Por isso, é feita uma filtragem por dados exclusivamente sobre violência doméstica. Além disso, por virem em formato .csv, os arquivos com os dados passam por uma conversão para .xlsx buscando reduzir seu tamanho e acelerar futuros processamentos. Essa etapa é realizada através do Tableau Prep Builder.
- 2° Etapa: remoção de linhas com hashs repetidos. Os dados a partir de 2020 armazenam um código hash para cada denúncia. Ao baixar os arquivos, foi possível perceber que muitos desses códigos hash eram repetidos, e a quantia de denúncias era muito maior que em anos anteriores, sinalizando que haviam denúncias repetidas. Portanto, foi feito e executado um script em Python para remoção das denúncias repetidas.
- 3° Etapa: união e limpeza de tabelas de mesmos formatos. As tabelas eram divulgadas anualmente até 2019 e, posteriormente, passaram a ser divulgadas semestralmente. Além disso, houve quatro alterações na forma de coleta e registro de dados das denúncias durante o período analisado. Esta etapa busca fazer a união dessas tabelas com os mesmos formatos e, em seguida, a sua limpeza, removendo valores incoerentes ou colunas com dados faltantes. Dessa etapa são gerados quatro diferentes conjuntos de dados: um abrangendo o período entre 2014 e novembro de 2018, outro abrangendo entre dezembro de 2018 e dezembro de 2019, um terceiro apenas do primeiro semestre de 2020 e um último do segundo semestre de 2020 até dezembro de 2023. A identificação das tabelas com formatos iguais foi feita por meio de um arquivo Excel contendo os nomes das colunas de cada tabela, sendo a união e limpeza realizadas no Tableau Prep Builder.
- 4° Etapa: padronização das profissões, países e municípios. Dados mais recentes possuíam formas diferentes de registrar nomes de municípios, alguns continham códigos antes do nome e isso impedia a criação de gráficos com distribuição geográfica. Portanto, foi feito um script em Python para a padronização dos nomes. Já as colunas que elencavam as profissões das vítimas e dos suspeitos, funcionavam como campos abertos e tornavam inviável sua análise. Para isso foi incluída no script uma padronização das profissões em seis grupos diferentes, baseados no dicionário de dados do ENEM, a qual pode ser vista na Tabela 2.
- 5° Etapa: união de tabelas de diferentes formatos. Buscando criar um conjunto de dados único para análise, que contemplasse o período de 2014 a 2023, foram unificados os quatro conjuntos de dados organizados anteriormente. Contudo, ao unir os conjuntos de dados diferentes, algumas colunas perderam consistência e representatividade, como, por exemplo, as colunas que detalhavam a escolaridade da vítima e suspeito. Em alguns conjuntos de dados, a escolaridade era apresentada de maneira detalhada, especificando se a etapa educacional havia sido completada ou não (por exemplo, ensino médio completo ou incompleto). Outros conjuntos de dados limitavam-se a mencionar apenas o grau de escolaridade, sem oferecer detalhes sobre a conclusão dos níveis educacionais. Por isso, parte da representatividade foi perdida. Essa etapa foi realizada com o Tableau Prep Builder.
